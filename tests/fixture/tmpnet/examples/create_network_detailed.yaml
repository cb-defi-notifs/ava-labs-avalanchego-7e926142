type: NetworkGenerator
# Declarative configuration for a new network. There is not a direct correlation
# between this structure and the configuration of a running network due to
# opportunistic data normalization.
spec:
  # Number of pre-funded keys that should be created
  preFundedKeyCount: 5
  # Non-default flags configured for the primary chains. Custom chain
  # configuration should be specified in subnet declarations.
  chainConfigs:
    - name: C
      flags:
        - "log-level": trace
  flags:
    - "api-admin-enabled": true
    - "plugin-dir": /path/to/plugins
  nodeTypes:
    # At least one node type must be defined
    - name: local
      # A field defining type-specific configuration. A field like this
      # will exist for each available type of node (e.g. localNodeConfig
      # for nodes running as local processes, kubeNodeConfig for nodes
      # running as kube pods) and only one should be non-nil.
      localNodeConfig:
        # Enables starting a node as a local process
        avalanchegoPath: /path/to/avalanchego
  # Configurations of nodes that can be instantiated. At least one must exist.
  initialStakerSets:
      # The name of the set can be used by subnets to refer to a set
      # of nodes to add as subnet validators.
    - name: local
      # If nodeType is not specified, the first one will be used
      nodeType: local
      replicas: 5
      # Flags specified here take precendence over the network's default flags
      flags:
        - "plugin-dir": /other/path/to/plugins
  # Subnets is an optional field. The same configuration can be used
  # to add a subnet to an existing network.
  subnets:
      # Name of the subnet will be used to associate status
      # (i.e. subnet and blockchain IDs) with this configuration
    - name: subnet1
      # Key on the primary network that created/owns the subnet. Must
      # have sufficient funds to create the subnet.  If not provided,
      # a key will be assigned from the set of available pre-funded
      # keys.
      owningKey: PrivateKey-9EZqwJCTDLTDCSpPa4UvegMeXKgtiDqxuuwx7o8A6kQH6JSBX
      # Optional configuration that should be written for the subnet
      subnetConfig: "{\"mykey\": \"myval\"}"
      validators:
        # One of of stakerTag or nodeGenerator must be specified
        - stakerSet: local
        - nodeGenerator:
            nodeType: local
            replicas: 5
            flags:
              - "plugin-dir": /yet/another/path/to/plugins
      # Optional set of blockchains that should be created on the
      # subnet. Not mandatory - blockchains can be created subsequent to
      # network instantiation.
      blockchains:
          # The name of a vm. The name translated to a VM ID will be
          # used to determine the plugin binary to use as this
          # blockchain's VM.
        - vmName: timestampvm
          # Genesis for the blockchain. Will vary by type of VM.
          genesis: e2e
          # Configuration for the blockchain. Will vary by type of VM.
          chainConfig: "{\"mykey\": \"myval\"}"
